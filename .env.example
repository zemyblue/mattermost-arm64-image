# =============================================================================
# Mattermost ARM64 Docker 환경 설정
# =============================================================================
# 이 파일을 .env로 복사한 후 필요한 값을 수정하세요:
#   cp .env.example .env
#
# 주의: .env 파일은 Git에 커밋하지 마세요 (비밀번호 포함)
# =============================================================================

# -----------------------------------------------------------------------------
# 기본 설정
# -----------------------------------------------------------------------------

# 타임존 (기본값: Asia/Seoul)
# 옵션: Asia/Seoul, America/New_York, Europe/London, UTC 등
TIMEZONE=Asia/Seoul

# Mattermost Docker 이미지
# 기본값: ghcr.io/zemyblue/mattermost-arm64:latest
# 특정 버전: ghcr.io/zemyblue/mattermost-arm64:11.3.0
MATTERMOST_IMAGE=ghcr.io/zemyblue/mattermost-arm64:latest

# -----------------------------------------------------------------------------
# 네트워크 설정
# -----------------------------------------------------------------------------

# Mattermost HTTP 포트 (기본값: 8065)
MATTERMOST_HTTP_PORT=8065

# Mattermost Gossip 포트 (기본값: 8067)
MATTERMOST_GOSSIP_PORT=8067

# Mattermost 사이트 URL
# 개발: http://localhost:8065
# 라즈베리파이: http://raspberrypi.local:8065
# 프로덕션: https://chat.yourdomain.com
MATTERMOST_SITE_URL=http://localhost:8065

# -----------------------------------------------------------------------------
# 데이터베이스 설정 (PostgreSQL)
# -----------------------------------------------------------------------------

# PostgreSQL 사용자명 (기본값: mmuser)
POSTGRES_USER=mmuser

# PostgreSQL 비밀번호 (보안: 반드시 변경하세요!)
POSTGRES_PASSWORD=mmuser_password

# PostgreSQL 데이터베이스 이름 (기본값: mattermost)
POSTGRES_DB=mattermost

# -----------------------------------------------------------------------------
# 볼륨 설정 (데이터 저장 위치)
# -----------------------------------------------------------------------------
# 두 가지 방식 중 선택:
# 1. Named Volume (Docker 관리) - 기본값
#    - postgres_data, mattermost_data 등
#    - Docker가 자동 관리, 성능 최적화
#
# 2. Bind Mount (로컬 디렉토리)
#    - ./volumes/postgres, ./volumes/mattermost/data 등
#    - 직접 파일 접근 가능, 백업 간편
# -----------------------------------------------------------------------------

# PostgreSQL 데이터 경로
# Named Volume: postgres_data
# Bind Mount: ./volumes/postgres
POSTGRES_DATA_PATH=postgres_data

# Mattermost 데이터 경로 (업로드 파일 등)
# Named Volume: mattermost_data
# Bind Mount: ./volumes/mattermost/data
MATTERMOST_DATA_PATH=mattermost_data

# Mattermost 로그 경로
# Named Volume: mattermost_logs
# Bind Mount: ./volumes/mattermost/logs
MATTERMOST_LOGS_PATH=mattermost_logs

# Mattermost 설정 파일 경로
# Named Volume: mattermost_config
# Bind Mount: ./volumes/mattermost/config
MATTERMOST_CONFIG_PATH=mattermost_config

# Mattermost 플러그인 경로
# Named Volume: mattermost_plugins
# Bind Mount: ./volumes/mattermost/plugins
MATTERMOST_PLUGINS_PATH=mattermost_plugins

# -----------------------------------------------------------------------------
# Bind Mount 사용 예시
# -----------------------------------------------------------------------------
# Bind Mount를 사용하려면 아래 주석을 해제하고 위 설정을 주석 처리하세요:
#
# POSTGRES_DATA_PATH=./volumes/postgres
# MATTERMOST_DATA_PATH=./volumes/mattermost/data
# MATTERMOST_LOGS_PATH=./volumes/mattermost/logs
# MATTERMOST_CONFIG_PATH=./volumes/mattermost/config
# MATTERMOST_PLUGINS_PATH=./volumes/mattermost/plugins
#
# 그 다음 디렉토리 생성:
#   mkdir -p volumes/{postgres,mattermost/{data,logs,config,plugins}}
# -----------------------------------------------------------------------------

# -----------------------------------------------------------------------------
# 파일 업로드 설정
# -----------------------------------------------------------------------------

# 최대 파일 크기 (바이트)
# 기본값: 104857600 (100MB)
# 200MB: 209715200
MAX_FILE_SIZE=104857600

# -----------------------------------------------------------------------------
# 이메일 설정 (개발/테스트 환경)
# -----------------------------------------------------------------------------

# 이메일로 가입 허용 (기본값: true)
EMAIL_SIGNUP_ENABLED=true

# 이메일로 로그인 허용 (기본값: true)
EMAIL_SIGNIN_ENABLED=true

# 이메일 검증 필수 여부 (기본값: false)
# 개발: false (SMTP 없이 사용 가능)
# 프로덕션: true (SMTP 설정 필요)
EMAIL_VERIFICATION_REQUIRED=false

# 이메일 알림 전송 여부 (기본값: false)
# 개발: false
# 프로덕션: true (SMTP 설정 필요)
EMAIL_NOTIFICATIONS_ENABLED=false

# -----------------------------------------------------------------------------
# SMTP 설정 (프로덕션 환경 - 이메일 발송)
# -----------------------------------------------------------------------------
# 프로덕션에서 이메일 알림을 사용하려면 아래 설정을 활성화하세요
# -----------------------------------------------------------------------------

# SMTP 인증 활성화 (기본값: false)
# SMTP_AUTH_ENABLED=true

# SMTP 서버 주소
# Gmail: smtp.gmail.com
# SendGrid: smtp.sendgrid.net
# AWS SES: email-smtp.us-east-1.amazonaws.com
# SMTP_SERVER=smtp.gmail.com

# SMTP 포트
# 기본값: 587 (STARTTLS)
# SSL: 465
# SMTP_PORT=587

# SMTP 사용자명 (보통 이메일 주소)
# SMTP_USERNAME=your-email@gmail.com

# SMTP 비밀번호
# Gmail: 앱 비밀번호 생성 필요 (https://myaccount.google.com/apppasswords)
# SMTP_PASSWORD=your-app-password

# 발신자 이름
# SMTP_FROM_NAME=Mattermost Notification

# 발신자 이메일 주소
# SMTP_FROM_EMAIL=no-reply@yourdomain.com

# -----------------------------------------------------------------------------
# Gmail SMTP 설정 예시
# -----------------------------------------------------------------------------
# SMTP_AUTH_ENABLED=true
# SMTP_SERVER=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM_NAME=Mattermost
# SMTP_FROM_EMAIL=your-email@gmail.com
# EMAIL_VERIFICATION_REQUIRED=true
# EMAIL_NOTIFICATIONS_ENABLED=true
# -----------------------------------------------------------------------------

# =============================================================================
# 추가 정보
# =============================================================================
#
# 환경 변수는 다음 우선순위로 적용됩니다:
# 1. docker-compose.yml의 기본값 (${VAR:-default})
# 2. .env 파일의 값
# 3. 셸 환경 변수
#
# 설정 변경 후 반드시 재시작:
#   docker compose down
#   docker compose up -d
#
# 자세한 설정은 Mattermost 공식 문서 참조:
#   https://docs.mattermost.com/configure/configuration-settings.html
#
# =============================================================================
